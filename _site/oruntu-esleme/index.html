<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"><!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"> <title>Örüntü Eşlemeyi Anlamak &#8211; Rustdili.com</title> <meta name="description" content="Rust Programlama Dili"> <meta name="keywords" content="örüntü eşleme, pattern matching, rust, match"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="http://localhost:4000/assets/img/logo-200x200.png"> <meta name="twitter:title" content="Örüntü Eşlemeyi Anlamak"> <meta name="twitter:description" content="Rust’tın örüntü eşleme modeli üzerine bir makale"> <meta name="twitter:site" content="@rustdili"> <meta name="twitter:creator" content="@rustdili"> <!-- Open Graph --> <meta property="og:locale" content="tr_TR"> <meta property="og:type" content="article"> <meta property="og:title" content="Örüntü Eşlemeyi Anlamak"> <meta property="og:description" content="Rust’tın örüntü eşleme modeli üzerine bir makale"> <meta property="og:url" content="http://localhost:4000/oruntu-esleme/"> <meta property="og:site_name" content="Rustdili.com"> <meta property="og:image" content="http://localhost:4000/assets/img/logo-200x200.png"> <link rel="canonical" href="http://localhost:4000/oruntu-esleme/"> <link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Rustdili.com Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"> <!-- JS --> <script src="http://localhost:4000/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="http://localhost:4000/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="http://localhost:4000/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://localhost:4000/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://localhost:4000/assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="http://localhost:4000/favicon.png" /> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" /> <!-- Background Image --> <style type="text/css">body {background-image:url(http://localhost:4000/assets/img/placeholder-bigg.jpg); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="http://localhost:4000/">Ana Sayfa</a></li> <li> <a href="#">Biz</a> <ul class="dl-submenu"> <li> <img src="http://localhost:4000/assets/img/logo-200x200.png" alt="Rustdili.com photo" class="author-photo"> <h4>Rustdili.com</h4> <p>Rust Programlama Dili</p> </li> <li><a href="http://localhost:4000/biz/"><span class="btn btn-inverse">Hakkımızda</span></a></li> <li> <a href="http://twitter.com/rustdili" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a> </li> <li> <a href="http://facebook.com/rustdili" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-facebook-square"></i> Facebook</a> </li> <li> <a href="http://instagram.com/rustdili" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-instagram"></i> Instagram</a> </li> <li> <a href="http://github.com/RustDili" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> <li> <a href="http://stackoverflow.com/users/14209495/rustdili" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-stack-overflow"></i> StackOverflow</a> </li> </ul><!-- /.dl-submenu --> </li> <li> <a href="#">Yazılar</a> <ul class="dl-submenu"> <li><a href="http://localhost:4000/giri/">Tüm Yazılar</a></li> <li><a href="http://localhost:4000/etiket/">Etiketler</a></li> </ul> </li> <li><a href="http://localhost:4000/proje/" >Tasarılar</a></li> </ul><!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title "> <h1>Örüntü Eşlemeyi Anlamak</h1> <h4>03 Sep 2020</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> Okuma süresi ~4 dakika </p><!-- /.entry-reading-time --> <a class="btn zoombtn" href="http://localhost:4000/giri/"> <i class="fa fa-chevron-left"></i> </a> </div> <blockquote> <p>Bu makalenin aslı <a href="https://dev.to/brunooliveira">Bruno Oliveira</a> tarafından yazılmış olup <a href="https://dev.to/&gt; brunooliveira/learning-rust-understanding-pattern-matching-10b3">dev.to</a> sitesinde yayınlanmıştır.</p> </blockquote> <p>Rust, varsayılan olarak değişmezliği destekler, bu durum diğer dillere aşina olanlar için beklenmedik davranışlara yol açabilir. Bu değişmezliğin örüntü eşleme ile nasıl birleştirilebileceğini ve belirli girdilere göre belirli eylemleri işletirken ne denli güçlü bir araç olduğunu anlamaya çalışacağız.</p> <h2 id="anahtar-kelime-let">Anahtar kelime <code class="highlighter-rouge">let</code></h2> <p>Rust’ta değişkenleri bildirmek için <code class="highlighter-rouge">let</code> anahtar kelimesi kullanılır. Bu anahtar kelimenin ardından mut anahtar kelimesinin kullanılması, bu değişken değerinin çalışma zamanında yeniden atanarak değiştirilebileceğini gösterir. Söz dizimi aşağıdaki gibidir.</p> <div class="language-rust highlighter-rouge"><pre class="highlight"><code><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
    <span class="k">let</span> <span class="k">mut</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div> <p>Yani, yukarıdaki örnekte, <code class="highlighter-rouge">x</code> ve <code class="highlighter-rouge">y</code> adlarında tamsayı değerlerini tutan iki değişkeni bildirir ve başlatırız. Bu iki değişken arasındaki temel fark; <code class="highlighter-rouge">y</code> değişkeninin değeri çalışma zamanında değiştirilebilir iken, <code class="highlighter-rouge">x</code> değişkeninin hiçbir koşulda değiştirilemiyor olmamasıdır. Haliyle <code class="highlighter-rouge">y</code> değişkeni değerini bir arttıran aşağıdaki kod gayet güzel çalışacaktır.</p> <div class="language-rust highlighter-rouge"><pre class="highlight"><code><span class="nd">println!</span><span class="p">(</span><span class="s">"Değeri arttırılmadan önceki y: {}"</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
    
<span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="nd">println!</span><span class="p">(</span><span class="s">"Arttırıldıktan sonraki y: {}"</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
</code></pre></div> <p>Bu kodu çalıştırdığımızda aşağıdaki gibi bir çıktıyla karşılaşmış oluruz.</p> <div class="language-console highlighter-rouge"><pre class="highlight"><code>Değeri arttırılmadan önceki y: 1
Arttırıldıktan sonraki y: 2
</code></pre></div> <p>Fakat aynı işlemi <code class="highlighter-rouge">x</code> değişmezi için yapmaya kalkıştığımızda alacağımız şey:</p> <div class="language-console highlighter-rouge"><pre class="highlight"><code>error[E0384]: cannot assign twice to immutable variable `x`
</code></pre></div> <p>Hatanın açıklamasında <code class="highlighter-rouge">x</code> değişmezine yeniden bir değer atanamayacağı bildirilir. Bu pratik üzerinden; değişebilir ve değişmez ilklendirmelerinde <code class="highlighter-rouge">let</code> anahtar sözcüğünün kullanımın aynı olduğunu, fakat <code class="highlighter-rouge">mut</code> ön eki kullanılarak değişirliğin eklenmesiyle, çalışma zamanındaki süreçlerin etkileneceğini gözlemleyebiliyoruz.</p> <h2 id="örüntü-eşleme">Örüntü Eşleme</h2> <p>Oysa <code class="highlighter-rouge">let</code> anahtar sözcüğü ile basit değer atamalarından fazlası yapılabilir. Karmaşık bir ifadeyle uğraşırken belirli bir eylemi yürütmek için ifadeyle eşleşecek bir örüntü kullanabiliriz. Örüntüler, basit ve karmaşık veri yapılarını eşleştirmek için kullanılan Rust’a özel söz dizimleridir. Örüntüleri, eşleme ifadeleri ve diğer yapılarla birlikte kullanmak programın akışında daha fazla kontrol olanağı sağlar. Bir desen aşağıdakilerin bazı kombinasyonlarından oluşur:</p> <ul> <li>Değişmezler <em>-Literals</em></li> <li>Yapılandırılmamış diziler, sıralamalar <em>(enums)</em>, yapılar <em>(struct)</em> veya çokuzlular <em>(tuples)</em></li> <li>Değişkenler <em>-Variables</em></li> <li>Joker karakterler <em>-Wildcards</em></li> <li>Yer tutucular <em>-Placeholders</em></li> </ul> <p>Bu bileşenler, üzerinde çalıştığımız verilerin şeklini açıklar. Programımızın belirli bir kod parçasını çalıştırırken doğru verilere sahip olup olmadığını bu değerlerleri eşleştirmek suretiyle denetleyerek gerçekleştiririz. Bir örüntünün kullanılabilmesi için öncelikle bir değerle karşılaştırılması gereklidir. Örüntü karşılaştırılan değerle eşleştiğinde kodun değer parçaları devreye girer.</p> <p>Bir örüntü, üzerinde çalışılan verileri tanımlayan bileşenlerin bir kombinasyonudur. Bu kombinasyon bir değerle karşılaştırıldığında bir eşleşme sağlanıyorsa belirli bir eylem gerçekleştirilir. Örüntüyle eşleşmeyen değerlerle ilgili işlem gerçekleştirilmez.</p> <p>Aşağıdaki basit örnekte görüleceği gibi, belirli bir zamanda, on numaralı tren yolu hattına bir trenin gelip gelmeyeceğini kontrol edebilir, değerlendirme sonucuna göre yolcular için uygun bir bilgi mesajı yazdırabiliriz.</p> <div class="language-rust highlighter-rouge"><pre class="highlight"><code><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
   <span class="k">let</span> <span class="n">hat_no</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
   
   <span class="k">match</span> <span class="n">hat_no</span> <span class="p">{</span>
       <span class="mi">10</span> <span class="k">=&gt;</span> <span class="nd">println!</span><span class="p">(</span><span class="s">"Tramvay 10. hatta gelecek"</span><span class="p">),</span>
       <span class="n">_</span> <span class="k">=&gt;</span> <span class="nd">println!</span><span class="p">(</span><span class="s">"Kara tren gecikir belki hiç geeelmeez"</span><span class="p">),</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div> <p><a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2018&amp;gist=3d733583a8170cb373881b7fed698b1b">Rust oyun alanında dene</a></p> <p>Yukarıdaki kodu çalıştırdığımızda ekrana “Tramvay 10. hatta gelecek” mesajı yazdırılır. Şimdi bu örnek üzerinden sözdizimini kısaca inceleyelim.</p> <p>Yukarıda bir <code class="highlighter-rouge">match</code> anahtar kelimesinin bildirildiğini görüyoruz. Eşleme ifadeleri, <code class="highlighter-rouge">match</code> anahtar sözcüğü, eşleşecek bir değer ve bir örüntüden oluşan bir veya daha fazla eşleşme kolu ve değerin o kolun örüntüsüyle eşleşmesi halinde çalıştırılacak bir ifade olarak tanımlanırlar.</p> <div class="language-rust highlighter-rouge"><pre class="highlight"><code><span class="k">match</span> <span class="n">DEGER</span> <span class="p">{</span>
    <span class="n">ORUNTU</span> <span class="k">=&gt;</span> <span class="n">IFADE</span><span class="p">,</span>
    <span class="n">ORUNTU</span> <span class="k">=&gt;</span> <span class="n">IFADE</span><span class="p">,</span>
    <span class="n">ORUNTU</span> <span class="k">=&gt;</span> <span class="n">IFADE</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div> <p>Eşleştirme ifadelerinde kullanılan değerlerin karşılaştırılmasında tüm karşılaştırma olasılıklarının değerlendirilme zorunluluğu, bu ifadelerin oldukça kapsamlı hale getirir. Her olasılığı değerlendirmenin bir yolu, son kol için bir tüm olasılıklar örüntüsüne sahip olmaktır. Örneğin, herhangi bir değerle eşleşen değişken adı asla başarısız olamayacağından geriye kalan her olasılığı veya durumu doğallıkla kapsamış olacaktır.</p> <p>Özel bir hata baskılama işleci olan alt çizgi <strong><code class="highlighter-rouge">_</code></strong> herhangi bir örüntü kalıbıyla eşleşmesine rağmen hiçbir zaman bir değişkene bağlanmaz. Bu nedenle son eşleme kolunda kullanılır. Bu <strong><code class="highlighter-rouge">_</code></strong> işleç genellikle belirtilmeyen bir değerin yok sayılması gerektiğinde oldukça yararlıdır.</p> <p>Eşleştirme ifadelerinde bir dizi değerin de karşılaştırılması yapılabilir. Yukarıdaki tramvay örneğini <em>tramvayın geliş süresini on dakika</em> olacak şekilde güncelleyelim. Eğer eşleştirilen değer bu sürenin dışında ise tramvayın gecikeceğini bildiren bir mesaj yazdıralım.</p> <p>Kapsayıcı bir değer aralığıyla nasıl eşleştirme yapılacağı aşağıdaki örnek üzerinde açıklanmıştır:</p> <div class="language-rust highlighter-rouge"><pre class="highlight"><code><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
   <span class="k">let</span> <span class="n">varis</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
   
   <span class="k">match</span> <span class="n">varis</span> <span class="p">{</span>
       <span class="mi">1</span><span class="err">..</span><span class="o">=</span><span class="mi">10</span> <span class="k">=&gt;</span> <span class="nd">println!</span><span class="p">(</span><span class="s">"Trenimiz 10 dakika içinde gelecek!"</span><span class="p">),</span>
       <span class="n">_</span> <span class="k">=&gt;</span> <span class="nd">println!</span><span class="p">(</span><span class="s">"Gecikme var"</span><span class="p">),</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div> <p><a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2018&amp;gist=3d733583a8170cb373881b7fed698b1b">Rust oyun alanında dene</a></p> <p>Özel bir sözdizimi olan <strong><code class="highlighter-rouge">..=deger</code></strong>, bir örüntüyü bir dizi değerle eşleştirmek için kullanılabilir. Örüntüyü bir değer ya da başka bir değer ile eşleştirmek için <strong><code class="highlighter-rouge">|</code></strong> boru işlecini de kullanabiliriz.</p> <div class="language-rust highlighter-rouge"><pre class="highlight"><code><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
   <span class="k">let</span> <span class="n">bos_koltuk</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
   
   <span class="k">match</span> <span class="n">bos_koltuk</span> <span class="p">{</span>
       <span class="mi">1</span> <span class="p">|</span> <span class="mi">2</span> <span class="k">=&gt;</span> <span class="nd">println!</span><span class="p">(</span><span class="s">"Trende 1 ya da 2 koltuk boş"</span><span class="p">),</span>
       <span class="mi">3</span> <span class="k">=&gt;</span> <span class="nd">println!</span><span class="p">(</span><span class="s">"Trende 3 koltuk boş"</span><span class="p">),</span>
       <span class="n">_</span> <span class="k">=&gt;</span> <span class="nd">println!</span><span class="p">(</span><span class="s">"boş koltuk adedi bilinmiyor"</span><span class="p">),</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div> <p><a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2018&amp;gist=62828b727ed6239cec9ecc96e2e37f32">Rust oyun alanında dene</a></p> <p>Bu makalede örüntü eşlemeyi kullanarak Rust programlarının yürütme akışını kontrol etmeye hızlıca bir giriş yaptık. Örüntü eşlemenin kümeler ve değer aralıkları gibi karmaşık durumları ela almak için nasıl kullanılabileceğini basit olan <code class="highlighter-rouge">if-else</code> yapılarından daha becerikli ve çok yönlü olduğunu kavramaya çalıştık.</p> <p>Herhangi bir eşleşmemiş örüntünün kapsanabilmesi için zorunlu olarak kullanılan bir örüntü kodu daha sağlam ve güvenli hale getirecektir.</p> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="http://localhost:4000/tags/#örüntü eşleme" title="Pages tagged örüntü eşleme" class="tag"><span class="term">örüntü eşleme</span></a><a href="http://localhost:4000/tags/#pattern matching" title="Pages tagged pattern matching" class="tag"><span class="term">pattern matching</span></a><a href="http://localhost:4000/tags/#rust" title="Pages tagged rust" class="tag"><span class="term">rust</span></a><a href="http://localhost:4000/tags/#match" title="Pages tagged match" class="tag"><span class="term">match</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/oruntu-esleme/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Paylaş</span> </a> <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/oruntu-esleme/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Duyur</span> </a> <a href="https://plus.google.com/share?url=http://localhost:4000/oruntu-esleme/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> <section id="disqus_thread" class="animated fadeInUp"></section><!-- /#disqus_thread --> </header> <!-- JS --> <script src="http://localhost:4000/assets/js/jquery-1.12.0.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.dlmenu.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.goup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.magnific-popup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.fitvid.min.js"></script> <script src="http://localhost:4000/assets/js/scripts.js"></script> <!-- Asynchronous Google Analytics snippet --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'G-3Z5J6DZQ1G', 'auto'); ga('require', 'linkid', 'linkid.js'); ga('send', 'pageview'); </script> <script type="text/javascript"> var disqus_shortname = 'rustdili'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
